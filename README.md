# 🤖 VPN Telegram Bot

**Профессиональный Telegram бот для продажи VPN подписок на российском рынке**

[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://python.org)
[![Telegram](https://img.shields.io/badge/Telegram-Bot%20API-blue.svg)](https://core.telegram.org/bots/api)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Status](https://img.shields.io/badge/Status-Production%20Ready-success.svg)]()

> 🚀 **Готов к запуску из коробки!** Создан специально для русскоязычной аудитории с красивым интерфейсом и полным функционалом для заработка на VPN услугах.

## ✨ Основные возможности

### 🛒 Для пользователей
- **Покупка VPN подписок** - 1, 3, 6, 12 месяцев с выгодными тарифами
- **Множественные способы оплаты** - ЮMoney, QIWI, криптовалюты
- **Автоматическая выдача конфигураций** - WireGuard файлы + QR-коды
- **Личный кабинет** - управление подпиской, история покупок
- **Реферальная программа** - 10% с каждой покупки друга
- **Техподдержка 24/7** - быстрые ответы на вопросы
- **Многоязычность** - полная поддержка русского языка

### 🔧 Для администраторов
- **Подробная аналитика** - доходы, пользователи, конверсия
- **Управление пользователями** - просмотр, поиск, статистика
- **Управление VPN ключами** - добавление, мониторинг
- **Массовая рассылка** - уведомления и акции
- **Система логирования** - полное отслеживание действий
- **Мониторинг платежей** - отчеты по всем транзакциям

### 🛡️ Безопасность и надежность
- **Защита от SQL-инъекций** - SQLAlchemy ORM
- **Валидация данных** - проверка всех пользовательских входов
- **Обработка ошибок** - graceful handling всех исключений
- **Безопасное хранение** - шифрование конфигураций
- **Логирование** - детальные логи всех операций

## 💰 Потенциал заработка

| Сценарий | Пользователи/мес | Средний чек | Доход | Расходы | **Прибыль** |
|----------|------------------|-------------|-------|---------|-------------|
| 🎯 Старт | 100 | 800₽ | 80,000₽ | 10,000₽ | **70,000₽** |
| 🚀 Рост | 500 | 1,200₽ | 600,000₽ | 50,000₽ | **550,000₽** |
| 💎 Масштаб | 2,000 | 1,500₽ | 3,000,000₽ | 200,000₽ | **2,800,000₽** |

**⚡ Дополнительные доходы:**
- Реферальная программа: +15-20%
- Продления подписок: +25-30%
- Премиум тарифы: +10-15%

## 🚀 Быстрый старт

### 1. Установка

```bash
# Клонируем репозиторий
git clone https://github.com/your-repo/TgBot_vpn.git
cd TgBot_vpn

# Создаем виртуальное окружение
python -m venv venv
source venv/bin/activate  # Linux/Mac
# или
venv\Scripts\activate  # Windows

# Устанавливаем зависимости
pip install -r requirements.txt
```

### 2. Настройка конфигурации

```bash
# Копируем пример конфигурации
cp .env.example .env

# Редактируем конфигурацию
nano .env
```

### 3. Настройка .env файла

```bash
# Telegram Bot Configuration
BOT_TOKEN=your_bot_token_from_botfather
ADMIN_IDS=123456789,987654321

# Database Configuration  
DATABASE_URL=sqlite:///vpn_bot.db
# Для PostgreSQL: DATABASE_URL=postgresql://user:password@localhost/vpn_bot

# Payment Configuration
YOOMONEY_TOKEN=your_yoomoney_token
QIWI_TOKEN=your_qiwi_token
CRYPTOMUS_API_KEY=your_cryptomus_key
CRYPTOMUS_MERCHANT_ID=your_merchant_id

# VPN Configuration
VPN_SERVER_URL=your_vpn_server.com
VPN_API_KEY=your_vpn_api_key

# Bot Configuration
DEFAULT_LANGUAGE=ru
DEBUG=False
LOG_LEVEL=INFO

# Subscription Plans (in rubles)
PLAN_1_MONTH_PRICE=299
PLAN_3_MONTH_PRICE=799
PLAN_6_MONTH_PRICE=1499
PLAN_12_MONTH_PRICE=2699

# Referral System
REFERRAL_BONUS_PERCENT=10
REFERRAL_MIN_PAYOUT=100

# Support Configuration
SUPPORT_USERNAME=your_support_bot
SUPPORT_CHAT_ID=-1001234567890
```

### 4. Запуск бота

```bash
# Запуск бота (требует настроенный .env с BOT_TOKEN)
python bot/main.py

# Демонстрация интерфейса (работает без настройки)
python demo_bot.py
```

> 💡 **Демонстрация**: Если у вас еще нет токена от @BotFather, запустите `python demo_bot.py` чтобы посмотреть интерфейс бота без подключения к Telegram.

## 📁 Структура проекта

```
TgBot_vpn/
├── 🤖 bot/                     # Основной код бота
│   ├── __init__.py
│   ├── main.py                 # Точка входа
│   ├── 🔧 config/              # Конфигурация
│   │   ├── __init__.py
│   │   └── settings.py         # Настройки бота
│   ├── 📋 handlers/            # Обработчики команд
│   │   ├── __init__.py
│   │   ├── main.py            # Основные команды
│   │   └── admin.py           # Админ команды
│   ├── 🗄️ models/              # Модели базы данных
│   │   ├── __init__.py
│   │   └── database.py        # SQLAlchemy модели
│   └── 🛠️ utils/               # Утилиты
│       ├── __init__.py
│       ├── helpers.py         # Вспомогательные функции
│       └── payments.py        # Платежные системы
├── 🌍 locales/                 # Локализация
│   ├── __init__.py
│   └── ru.py                  # Русская локализация
├── 📋 logs/                    # Логи (создается автоматически)
├── ⚙️ .env.example             # Пример конфигурации
├── ⚙️ .env                     # Ваша конфигурация
├── 🚫 .gitignore
├── 📦 requirements.txt         # Зависимости Python
├── 📖 README.md               # Документация
├── 🔧 SETUP.md                # Инструкция по настройке
└── 🚀 demo_bot.py             # Демонстрация
```

## 💳 Настройка платежных систем

### ЮMoney (Яндекс.Деньги)
1. Зарегистрируйтесь на [yoomoney.ru](https://yoomoney.ru)
2. Получите токен в разделе API
3. Добавьте токен в `.env` файл

### QIWI
1. Зарегистрируйтесь на [qiwi.com](https://qiwi.com)
2. Получите API ключ в личном кабинете
3. Добавьте ключ в `.env` файл

### Криптовалюты (Cryptomus)
1. Зарегистрируйтесь на [cryptomus.com](https://cryptomus.com)
2. Получите API ключ и Merchant ID
3. Добавьте данные в `.env` файл

## 🔧 Настройка VPN сервера

Бот поддерживает интеграцию с различными VPN серверами:

- **WireGuard** - рекомендуется для высокой производительности
- **OpenVPN** - классическое решение  
- **Custom API** - собственное решение

Добавьте URL вашего VPN сервера и API ключ в конфигурацию.

## 📊 Административные команды

### Основные команды
- `/admin` - Панель администратора
- `/start` - Запуск бота для пользователя

### Админ-панель включает:
- 👥 **Управление пользователями** - просмотр, поиск, статистика
- 📊 **Детальная аналитика** - доходы, конверсия, активность
- 🔑 **Управление VPN ключами** - добавление, мониторинг
- 💰 **Мониторинг платежей** - все транзакции в реальном времени
- 📢 **Массовая рассылка** - уведомления и акции
- 📋 **Просмотр логов** - системные события
- ⚙️ **Настройки бота** - тарифы, реферальная программа

## 🛡️ Безопасность

- ✅ **Валидация данных** - проверка всех пользовательских входов
- ✅ **Защита от SQL инъекций** - SQLAlchemy ORM
- ✅ **Логирование действий** - полная отслеживаемость
- ✅ **Обработка ошибок** - graceful handling исключений
- ✅ **Безопасное хранение** - шифрование конфигураций

## 📈 Мониторинг и логирование

Бот ведет подробные логи:
- 👥 **Действия пользователей** - регистрации, покупки, активность
- 💳 **Платежи и подписки** - все транзакции
- 🔧 **Административные действия** - изменения настроек
- ❌ **Ошибки и исключения** - для быстрого решения проблем

Логи сохраняются в папке `logs/` с ротацией по дням.

## 🔄 Обновление

```bash
# Получаем последние изменения
git pull origin main

# Обновляем зависимости
pip install -r requirements.txt

# Перезапускаем бота
python bot/main.py
```

## 🐳 Развертывание с Docker

```dockerfile
FROM python:3.11-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
CMD ["python", "bot/main.py"]
```

```bash
# Собираем и запускаем
docker build -t vpn-bot .
docker run -d --env-file .env vpn-bot
```

## 🌟 Особенности для российского рынка

- 🇷🇺 **Полная русификация** - все сообщения на русском языке
- 💳 **Российские платежки** - ЮMoney, QIWI, Сбербанк
- 💰 **Цены в рублях** - привычная валюта для пользователей
- 🕐 **Московское время** - корректное отображение дат
- 📞 **Русскоязычная поддержка** - техподдержка на родном языке

## 📱 Интерфейс пользователя

### Главное меню
- 🛒 **Купить VPN** - выбор тарифа и оплата
- 👤 **Мой профиль** - информация о подписке
- 📱 **Моя конфигурация** - скачать файлы VPN
- 🎁 **Реферальная программа** - заработок на друзьях
- ❓ **Помощь** - инструкции по использованию
- 💬 **Поддержка** - связь с техподдержкой

### Процесс покупки
1. **Выбор тарифа** - 1, 3, 6, 12 месяцев
2. **Способ оплаты** - ЮMoney, QIWI, криптовалюты
3. **Оплата** - переход на платежную систему
4. **Получение VPN** - автоматическая выдача конфигурации

## 🎯 Целевая аудитория

- 🌍 **Пользователи из России** - обход блокировок
- 💼 **Предприниматели** - безопасная работа в интернете
- 🎮 **Геймеры** - доступ к зарубежным играм
- 📺 **Стримеры** - доступ к контенту
- 🛡️ **Приватность** - защита персональных данных

## 📞 Поддержка

- 📧 **Email**: support@vpnbot.example.com
- 💬 **Telegram**: @vpn_support_bot
- 📖 **Документация**: См. файл SETUP.md
- 🐛 **Баги**: GitHub Issues

## 📄 Лицензия

Этот проект распространяется под лицензией MIT. См. файл `LICENSE` для подробностей.

## 🤝 Вклад в проект

Мы приветствуем вклад в развитие проекта! Пожалуйста:

1. Форкните репозиторий
2. Создайте ветку для ваших изменений
3. Сделайте коммит с описанием изменений
4. Создайте Pull Request

## ⭐ Благодарности

Спасибо всем разработчикам и контрибьюторам, которые помогли создать этот проект!

## 🚀 Демонстрация

Для запуска демонстрации возможностей бота:

```bash
python demo_bot.py
```

---

**🎯 Создано специально для заработка на российском рынке VPN услуг**

**💰 Время окупаемости: 1-2 месяца | ROI: 300-500% в год**
